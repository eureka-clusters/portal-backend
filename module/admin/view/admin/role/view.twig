{% do headTitle().append(translate("txt-admin") ) %}
{% do headTitle().append(translate("txt-role-%s")|format(role)) %}

<h1>{{ translate("txt-%s")|format(role) }}  {{ roleLink(role,'edit','button') }}</h1>

<p>{{ translate("txt-admin-role-information") }}</p>

<dl class="dl-horizontal">
    <dt>{{ translate("txt-role") }}</dt>
    <dd>{{ role.name }}</dd>

    <dt>{{ translate("txt-description") }}</dt>
    <dd>{{ role.description }}</dd>

    <dt>{{ translate("txt-selections") }}</dt>
    {% for selection in role.selection %}
        <dd>{{ selectionLink(selection) }}</dd>
    {% else %}
        <dd>{{ translate("txt-no-selections-found") }}</dd>
    {% endfor %}

    <dt>{{ translate("txt-support-groups") }}</dt>
    {% for support in role.support %}
        <dd>{{ supportLink(support) }}</dd>
    {% else %}
        <dd>{{ translate("txt-no-support-groups") }}</dd>
    {% endfor %}

    <dt>{{ translate("txt-permission-roles") }}</dt>
    {% for role in role.permitRole %}
        <dd>{{ translate("txt-%s-in-%s")|format(role.role, permitEntityLink(role.entity,'view'))|raw }}</dd>
    {% else %}
        <dd>{{ translate("txt-no-permission-roles") }}</dd>
    {% endfor %}
    <dt>{{ translate("txt-amount-of-users-based-on-role") }}</dt>
    <dd>{{ role.users.count() }}
</dl>

<hr>

{% if role.users.count() <= 100 and not role.users.isEmpty() %}
    <h4>{{ translate("txt-user-with-role-%s")|format(role) }}</h4>
    <table class="table table-sm table-striped">
        <tr>
            {% for user in role.users %}
            <td>{{ userLink(user,'view-admin') }}</td>
            {% if loop.index is divisible by(6) %}
        </tr>
        <tr>
            {% endif %}

            {% endfor %}
        </tr>
    </table>
{% elseif role.users.count() > 100 %}
    {{ lbs5alert().info(translate("txt-there-are-more-than-%s-users-with-this-role-%s")|format(100, role))|raw }}
{% endif %}

