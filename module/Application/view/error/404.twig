<div class="container">
    {% do headTitle().append(translate("txt-a-404-message-occurred")) %}
    <h1>{{ translate("txt-a-404-message-occurred") }}</h1>

    {{ ztbalert().danger(message)|raw }}

    {% if (constant("ITEAOFFICE_ENVIRONMENT") == 'development') and reason %}
        {% if reason == 'error-controller-cannot-dispatch' %}
            {% set reasonMessage = 'The requested controller was unable to dispatch the request.' %}
        {% endif %}
        {% if reason == 'error-controller-not-found' %}
            {% set reasonMessage = 'The requested controller could not be mapped to an existing controller class.' %}
        {% endif %}
        {% if reason == 'error-controller-invalid' %}
            {% set reasonMessage = 'The requested controller was not dispatchable.' %}
        {% endif %}
        {% if reason == 'error-router-no-match' %}
            {% set reasonMessage = 'The requested URL could not be matched by routing.' %}
        {% endif %}

        <p>{{ reasonMessage }}</p>

        {% if controller %}
            <dl>
                <dt>Controller</dt>
                <dd>
                    {{ controller }}
                    {% if controller_class and controller_class != controller %}
                        resolves to {{ controller_class }}
                    {% endif %}
                </dd>
            </dl>
        {% endif %}

        {% if exception %}
            <h2>Exception:</h2>
            <p><b>{{ exception.getMessage() }}</b></p>

            <h3>Stack trace</h3>
            <pre>{{ exception.getTraceAsString() }}</pre>
        {% endif %}
    {% endif %}

    <h3>{{ translate("txt-use-google-search-to-find-the-page-you-were-looking-for") }}</h3>

    <form action="search" method="get">
        <div class="input-group my-3">
            <input type="text" name="q" class="form-control" id="search" placeholder="Site search">
            <div class="input-group-append">
                <input type="submit" name="submit" class="btn btn-primary" value="Search">
            </div>
        </div>
    </form>
</div>